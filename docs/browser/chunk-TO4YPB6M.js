import{a as m}from"./chunk-HW6X36MZ.js";import{c as p,g as c,k as r}from"./chunk-FHA5RL3B.js";import{O as s,T as i,yb as a}from"./chunk-7FFTT4OB.js";var n=class e{constructor(t,o){this.location=t;this.router=o}goBack(){this.location.back()}goForward(){this.location.forward()}navigateHome(){this.router.navigate(["/",r.APP_HOME])}navigateToAdminHome(){this.router.navigate(["/",r.ADMIN,r.ADMIN_DASHBOARD])}navigateClientDashboard(){this.router.navigate(["/",r.USER_BASEROUTE,r.USER_DASHBOARD])}static \u0275fac=function(o){return new(o||e)(i(a),i(c))};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};var u=class e{constructor(t,o){this.http=t;this.navigationService=o}apiUrl=m.authUrl+"/auth";tokenName="access_token";createNewAccount(t){return this.http.post(this.apiUrl+"/register",t)}initiateLogin(t){return this.http.post(this.apiUrl+"/login",t)}VerifyLoginOtp(t){return this.http.post(this.apiUrl+"/verify-otp",t)}RequestPasswordReset(t){return this.http.post(this.apiUrl+"/request-password-reset",t)}RequestPasswordVerification(t){return this.http.post(this.apiUrl+"/reset-password",t)}getAuthToken(){return sessionStorage.getItem(this.tokenName)||""}setAuthToken(t){return sessionStorage.setItem(this.tokenName,t)}clearAuthToken(){sessionStorage.removeItem(this.tokenName)}logOut(){this.http.post(this.apiUrl+"/logout",{}).subscribe({next:()=>{this.clearAuthToken(),this.navigationService.navigateHome()},error:t=>{console.error("Logout failed:",t),this.clearAuthToken(),this.navigationService.navigateHome()}})}static \u0275fac=function(o){return new(o||e)(i(p),i(n))};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};export{n as a,u as b};

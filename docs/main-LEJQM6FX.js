import{a as J}from"./chunk-SEQLKZJW.js";import{a as K,b as Q}from"./chunk-TO4YPB6M.js";import{a as W}from"./chunk-HW6X36MZ.js";import{a as Z,c as $,d as E,e as V,f as A,g as S,i as X,j as _,k as r}from"./chunk-FHA5RL3B.js";import{Bb as L,Cb as G,D,Ea as m,Eb as R,Ia as F,O as v,Pa as U,Ra as p,Sa as a,T as j,Ta as c,U as s,Va as g,ab as d,hb as q,ib as B,k as H,kb as z,n as w,o as N,r as T,z as h,za as C}from"./chunk-7FFTT4OB.js";var y=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(t,o){t&1&&(p(0,"p"),d(1,"pagenotfound works!"),a())},encapsulation:2})};var b=class e{constructor(n){this.http=n}authApiUrl=W.authUrl+"/access-rights";isAuthenticated(){return this.http.get(this.authApiUrl+"/is-authenticated")}static \u0275fac=function(t){return new(t||e)(j($))};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})};var Y=(e,n)=>{let t=s(b),o=s(J),i=s(S);return t.isAuthenticated().pipe(T(l=>{if(l.status&&l.data){let k=l?.data;return o.setUserProfile(k?.userName,k?.emailAddress),!0}else return i.createUrlTree(["/",r.ERROR,r.ERROR_UNAUTHORIZED])}),h(l=>(console.log(l),w(i.createUrlTree(["/",r.ERROR,r.ERROR_UNAUTHORIZED])))))};var I=class e{constructor(n){this.navigationService=n}static \u0275fac=function(t){return new(t||e)(C(K))};static \u0275cmp=m({type:e,selectors:[["app-admin-header"]],decls:20,vars:0,consts:[[1,"page-headr"],[1,"navbar-expand-lg","navbar-white","bg-white"],[1,"row"],[1,"col-md-6",3,"click"],["src","assets/images/new-smz-logo.png",1,"img-fluid","mx-auto","d-block","pb-2","mt-2"],[1,"col-md-6","header-options"],[1,"navbar-nav","ms-auto",2,"float","right"],[1,"user-profile"],[1,"user-profile-text"],[1,"user-name"],[1,"navigation-links"],["title","Back",3,"click"],["src","assets/images/red-left-arrow.png"],["title","Forward",1,"icon",3,"click"],["src","assets/images/red-right-arrow.png"],[1,"home-link"],[3,"click"]],template:function(t,o){t&1&&(p(0,"header",0)(1,"nav",1)(2,"div",2)(3,"div",3),g("click",function(){return o.navigationService.navigateToAdminHome()}),c(4,"img",4),a(),p(5,"div",5)(6,"ul",6)(7,"li",7)(8,"span",8),d(9," WELCOME "),p(10,"span",9),d(11,"Guest"),a()()(),p(12,"li",10)(13,"a",11),g("click",function(){return o.navigationService.goBack()}),c(14,"img",12),a(),p(15,"a",13),g("click",function(){return o.navigationService.goForward()}),c(16,"img",14),a()(),p(17,"li",15)(18,"a",16),g("click",function(){return o.navigationService.navigateToAdminHome()}),d(19,"Home"),a()()()()()()())},styles:[".header-options[_ngcontent-%COMP%]{display:flex;justify-content:end;justify-items:center;align-items:center}.header-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:20px}.header-options[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{color:inherit}.header-options[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-profile-text[_ngcontent-%COMP%]{font-size:18px}.header-options[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-profile-text[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#000}.navigation-links[_ngcontent-%COMP%]{display:flex;gap:8px}.home-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#000;cursor:pointer}"]})};var x=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-admin-layout"]],decls:3,vars:0,consts:[[1,"admin-page"]],template:function(t,o){t&1&&(p(0,"div",0),c(1,"app-admin-header")(2,"router-outlet"),a())},dependencies:[R,_,A,I],encapsulation:2})};var ee=[{path:r.APP,loadChildren:()=>import("./chunk-C4IX4F52.js").then(e=>e.PublicModule)},{path:r.AUTH,loadChildren:()=>import("./chunk-EYMJQM74.js").then(e=>e.AuthModule)},{path:r.USER_BASEROUTE,canActivate:[Y],loadChildren:()=>import("./chunk-TQ73X527.js").then(e=>e.UserRoutingModule)},{path:r.ADMIN,component:x,loadChildren:()=>import("./chunk-OKT2QBDK.js").then(e=>e.AdminRoutingModule)},{path:r.ERROR,loadChildren:()=>import("./chunk-UEA3ONRN.js").then(e=>e.ErrorsRoutingModule)},{path:"**",component:y}];var te=(e,n)=>{let o=s(Q).getAuthToken(),i=e.headers.set("Content-Type","application/json");o&&(i=i.set("Authorization",`Bearer ${o}`));let l=e.clone({headers:i});return n(l)};var u=class e{_loading=new H(!1);loading$=this._loading.asObservable();ongoingRequests=0;constructor(){}show(){this._loading.next(!0)}hide(){this._loading.next(!1)}incrementRequestCount(){this.ongoingRequests++}decrementRequestCount(){this.ongoingRequests--}getRequestCount(){return this.ongoingRequests}static \u0275fac=function(t){return new(t||e)};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})};var ne=(e,n)=>{let t=s(u),o=e.headers.has("X-Skip-Spinner"),i=o?e.clone({headers:e.headers.delete("X-Skip-Spinner")}):e;return o||(t.incrementRequestCount(),t.getRequestCount()===1&&t.show()),n(i).pipe(D(()=>{o||(t.decrementRequestCount(),t.getRequestCount()===0&&t.hide())}))};var oe=(e,n)=>{let t=s(S);return n(e).pipe(h(o=>(o.status===0&&t.navigate(["/",r.ERROR,r.ERROR_SERVICE_UNAVAILABLE]),N(()=>o))))};var re={providers:[z({eventCoalescing:!0}),X(ee),E(),E(V([ne,te,oe]))]};function ae(e,n){e&1&&(p(0,"div",1),c(1,"div",2),a())}var O=class e{constructor(n){this.spinnerService=n}static \u0275fac=function(t){return new(t||e)(C(u))};static \u0275cmp=m({type:e,selectors:[["app-spinner"]],decls:2,vars:3,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(t,o){t&1&&(F(0,ae,2,0,"div",0),q(1,"async")),t&2&&U("ngIf",B(1,1,o.spinnerService.loading$))},dependencies:[R,L,G],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#fff9;z-index:9999;display:flex;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{border:6px solid #f3f3f3;border-top:6px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var P=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,o){t&1&&c(0,"app-spinner")(1,"router-outlet")},dependencies:[_,A,O],encapsulation:2})};Z(P,re).catch(e=>console.error(e));

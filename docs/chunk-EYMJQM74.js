import{a as R,b as d,c as P,d as T,e as I,f as v,g as F,h as N,i as L,j as ne,k as re,l as le,m as ae,n as se,o as me}from"./chunk-SMFXKUX3.js";import{b as k}from"./chunk-TO4YPB6M.js";import"./chunk-HW6X36MZ.js";import{g as y,h as E,j as oe,k as _}from"./chunk-FHA5RL3B.js";import{$ as z,$a as te,Ab as ie,Bb as b,Ea as h,Eb as D,Fa as A,Ia as m,P as q,Pa as a,Ra as o,Sa as i,Ta as p,Ua as Q,Va as f,Wa as c,Xa as J,Ya as K,Za as X,_ as $,_a as ee,ab as r,bb as S,cb as M,eb as w,fa as Z,va as l,yb as C,za as g}from"./chunk-7FFTT4OB.js";var ve=["*"];function ge(e,n){if(e&1){let t=Q();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h5",6)(5,"div",7)(6,"b"),r(7),i()()()(),o(8,"div",8),K(9),i(),o(10,"div",9)(11,"div",7)(12,"button",10),f("click",function(){$(t);let u=c();return z(u.onClose())}),r(13),i()()()()()()}if(e&2){let t=c();l(7),S(t.title),l(6),S(t.buttonText)}}function _e(e,n){e&1&&p(0,"div",11)}var x=class e{show=!1;title="";content="";buttonText="Ok";closePopup=new Z;onClose(){this.closePopup.emit(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-popup-modal"]],inputs:{show:"show",title:"title",content:"content",buttonText:"buttonText"},outputs:{closePopup:"ClosePopup"},standalone:!1,ngContentSelectors:ve,decls:2,vars:2,consts:[["id","myModal","class","modal fade show","role","dialog","style","display: block; padding-right: 15px;",4,"ngIf"],["class","modal-backdrop show",4,"ngIf"],["id","myModal","role","dialog",1,"modal","fade","show",2,"display","block","padding-right","15px"],[1,"modal-dialog","modal-lg",2,"margin","10% auto"],[1,"modal-content"],[1,"modal-header",2,"display","block"],[1,"modal-title"],[1,"content-center"],[1,"message-try"],[1,"modal-footer","pb-3",2,"display","block"],["type","button",1,"btn","btn-success",3,"click"],[1,"modal-backdrop","show"]],template:function(t,s){t&1&&(J(),m(0,ge,14,2,"div",0)(1,_e,1,0,"div",1)),t&2&&(a("ngIf",s.show),l(),a("ngIf",s.show))},dependencies:[b],styles:[".content-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})};var Se=["otpInput"],he=e=>["/",e];function be(e,n){if(e&1&&(o(0,"div",47)(1,"div",48),r(2),i()()),e&2){let t=c();l(2),S(t.errorMessage)}}function xe(e,n){e&1&&(o(0,"small"),r(1,"username is required."),i())}function we(e,n){e&1&&(o(0,"small"),r(1,"Min 3 characters."),i())}function Ce(e,n){e&1&&(o(0,"small"),r(1,"Only letters and spaces allowed."),i())}function ye(e,n){if(e&1&&(o(0,"div",49),m(1,xe,2,0,"small",50)(2,we,2,0,"small",50)(3,Ce,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.username.errors==null?null:t.f.username.errors.required),l(),a("ngIf",t.f.username.errors==null?null:t.f.username.errors.minlength),l(),a("ngIf",t.f.username.errors==null?null:t.f.username.errors.pattern)}}function Ee(e,n){e&1&&(o(0,"small"),r(1,"Email is required."),i())}function Re(e,n){e&1&&(o(0,"small"),r(1,"Enter a valid email."),i())}function Pe(e,n){if(e&1&&(o(0,"div",49),m(1,Ee,2,0,"small",50)(2,Re,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.required),l(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.email)}}function Te(e,n){e&1&&(o(0,"small"),r(1,"Password is required."),i())}function Ie(e,n){e&1&&(o(0,"small"),r(1,"Min 6 characters."),i())}function Fe(e,n){e&1&&(o(0,"small"),r(1,"Include uppercase, lowercase, number, and symbol."),i())}function Ne(e,n){if(e&1&&(o(0,"div",49),m(1,Te,2,0,"small",50)(2,Ie,2,0,"small",50)(3,Fe,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.required),l(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.minlength),l(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.pattern)}}function Le(e,n){e&1&&(o(0,"small"),r(1,"Mobile number is required."),i())}function ke(e,n){e&1&&(o(0,"small"),r(1,"Invalid Mobile Number"),i())}function Me(e,n){if(e&1&&(o(0,"div",49),m(1,Le,2,0,"small",50)(2,ke,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.mobileNo.errors==null?null:t.f.mobileNo.errors.required),l(),a("ngIf",t.f.mobileNo.errors==null?null:t.f.mobileNo.errors.pattern)}}function Oe(e,n){e&1&&(o(0,"small"),r(1,"OTP is required."),i())}function qe(e,n){e&1&&(o(0,"small"),r(1,"Invalid OTP"),i())}function Ae(e,n){e&1&&(o(0,"small"),r(1,"Invalid OTP"),i())}function De(e,n){if(e&1&&(o(0,"div",49),m(1,Oe,2,0,"small",50)(2,qe,2,0,"small",50)(3,Ae,2,0,"small",50),i()),e&2){let t=c(2);l(),a("ngIf",t.f.otp.errors==null?null:t.f.otp.errors.required),l(),a("ngIf",t.f.otp.errors==null?null:t.f.otp.errors.minlength),l(),a("ngIf",t.f.otp.errors==null?null:t.f.otp.errors.maxlength)}}function Ve(e,n){if(e&1&&(o(0,"div",17)(1,"label",51),r(2,"OTP"),i(),p(3,"input",52,0),m(5,De,4,3,"div",33),i()),e&2){let t=c();l(5),a("ngIf",t.formSubmitted&&t.f.otp.invalid)}}var V=class e{constructor(n,t,s){this.router=n;this.location=t;this.authService=s}otpInput;appRoutes=_;loginForm=new I({username:new v("",[d.required,d.minLength(3),d.pattern(/^[a-zA-Z0-9._@]+$/)]),email:new v("",[d.required,d.email]),mobileNo:new v("",[d.required,d.pattern(/^\+?[1-9]\d{1,14}$/)]),password:new v("",[d.required,d.minLength(6),d.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{6,}$/)]),otp:new v({value:"",disabled:!0},[d.required,d.minLength(6),d.maxLength(6)])});formSubmitted=!1;isError=!1;errorMessage="";showLoginSuccessModel=!1;isLoginSuccess=!1;navigateToRegister(){this.router.navigate(["/",this.appRoutes.AUTH,this.appRoutes.REGISTER])}navigateToForgotPassword(){this.router.navigate(["/",this.appRoutes.AUTH,this.appRoutes.FORGOT_PASSWORD])}onSubmit(){if(this.formSubmitted=!0,this.loginForm.invalid)return;let n=this.loginForm.value;this.isError=!1,n.username=n.username.trim(),n.email=n.email.trim(),this.authService.initiateLogin(n).subscribe({next:()=>{this.showLoginSuccessModel=!0,this.isLoginSuccess=!0,this.disableLoginFields(),this.formSubmitted=!1},error:t=>this.handleError(t)})}onOtpVerificationSubmit(){if(this.formSubmitted=!0,this.loginForm.invalid)return;this.isError=!1;let n=this.loginForm.getRawValue();this.authService.VerifyLoginOtp(n).subscribe({next:t=>{this.authService.setAuthToken(t.data),this.router.navigate(["/",this.appRoutes.USER_BASEROUTE,this.appRoutes.USER_DASHBOARD])},error:t=>this.handleError(t)})}handleError(n){this.isError=!0;let t=n.error;this.errorMessage=t?.errors?.[0]||"Login failed."}disableLoginFields(){["userName","email","password","mobileNo"].forEach(n=>{this.loginForm.get(n)?.disable()}),this.loginForm.get("otp")?.enable()}loginSuccessModalClose(){this.showLoginSuccessModel=!1,this.otpInput.nativeElement.focus()}goBack(){this.location.back()}get f(){return this.loginForm.controls}static \u0275fac=function(t){return new(t||e)(g(y),g(C),g(k))};static \u0275cmp=h({type:e,selectors:[["app-login"]],viewQuery:function(t,s){if(t&1&&X(Se,5),t&2){let u;ee(u=te())&&(s.otpInput=u.first)}},standalone:!1,decls:86,vars:14,consts:[["otpInput",""],[1,"wrapper"],["id","body",1,"active"],[1,"content","bg-white"],[1,"container-fluid"],[1,"row"],[1,"col-lg-10"],[3,"routerLink"],["src","assets/images/new-smz-logo.png",1,"img-fluid","mx-auto","d-block","col-md-7"],[1,"col-lg-2"],[1,"home-icon"],["title","Back",1,"icon",3,"click"],["src","assets/images/red-left-arrow.png"],[1,"icon"],["src","assets/images/red-right-arrow.png"],[1,"content"],[1,"container",2,"margin-top","30px"],[1,"col-md-4"],[1,"services"],[1,"loginpage","service-item","position-relative","pt-5"],[1,"fas","fa-envelope"],[1,"stretched-link"],[1,"col-md-2"],[1,"col-md-6"],[1,"services","pt-3","mb-3"],["type","submit",1,"new-account-but",3,"click"],["class","col-md-12 mt-3",4,"ngIf"],["data-aos","fade-up","data-aos-delay","200",1,"login-div","aos-init","aos-animate","mt-2"],[1,"login-div-header"],[1,"row","login-div-body","gy-2",3,"submit","formGroup"],[1,"col-md-12"],["for","email-field",1,"pb-2"],["type","text","id","username","formControlName","username","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","email","id","emailAddress","formControlName","email","placeholder","",1,"form-control"],["for","subject-field",1,"pb-2"],["type","password","id","password","formControlName","password","placeholder","",1,"form-control"],[1,"col-md-8"],["for","name-field",1,"pb-2"],["type","text","id","mobileNo","formControlName","mobileNo","placeholder","",1,"form-control"],["class","col-md-4",4,"ngIf"],[1,"col-md-12","mt-4"],["type","submit",1,"submit-btn"],[1,"col-md-12","mt-2"],["type","button",1,"new-account-but",3,"click"],[3,"ClosePopup","show","title","buttonText"],[2,"color","green"],[1,"col-md-12","mt-3"],[1,"alert","alert-danger","text-center"],[1,"text-danger"],[4,"ngIf"],["for","name-field",1,"otp"],["type","text","name","otp","id","otp","placeholder","","formControlName","otp",1,"form-control"]],template:function(t,s){t&1&&(o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"a",7),p(7,"img",8),i()(),o(8,"div",9)(9,"div",10)(10,"a",11),f("click",function(){return s.goBack()}),p(11,"img",12),i(),o(12,"a",13),r(13,"\xA0"),p(14,"img",14),i()()()()()(),o(15,"div",15)(16,"div",16)(17,"div",5)(18,"div",17)(19,"div",18)(20,"div",19)(21,"div",13),p(22,"i",20),i(),o(23,"div",21)(24,"p"),r(25,"Please Log In With Your Credentials And "),o(26,"strong"),r(27," One Time PASSWORD (OTP) "),i(),r(28," As Provided In Your Mail "),i()()()()(),p(29,"div",22),o(30,"div",23)(31,"div",24)(32,"button",25),f("click",function(){return s.navigateToRegister()}),r(33," DON'T Have An Account? "),p(34,"br"),r(35," REGISTER FIRST"),i()(),m(36,be,3,1,"div",26),o(37,"div",27)(38,"div",28)(39,"span")(40,"small"),r(41," Registered "),i(),o(42,"strong"),r(43," ACCOUNT HOLDERS "),i(),o(44,"small"),r(45," Pls"),i(),o(46,"strong"),r(47,"LOG-IN"),i(),o(48,"small"),r(49," Here "),i()()(),o(50,"form",29),f("submit",function(){return s.isLoginSuccess?s.onOtpVerificationSubmit():s.onSubmit()}),o(51,"div",30)(52,"label",31),r(53,"Full Name"),i(),p(54,"input",32),m(55,ye,4,3,"div",33),i(),o(56,"div",30)(57,"label",31),r(58,"Email Address "),i(),p(59,"input",34),m(60,Pe,3,2,"div",33),i(),o(61,"div",30)(62,"label",35),r(63,"Password"),i(),p(64,"input",36),m(65,Ne,4,3,"div",33),i(),o(66,"div",37)(67,"label",38),r(68,"Phone Number"),i(),p(69,"input",39),m(70,Me,3,2,"div",33),i(),m(71,Ve,6,1,"div",40),o(72,"div",41)(73,"div",5)(74,"div",30)(75,"button",42),r(76),i()(),o(77,"div",43)(78,"button",44),f("click",function(){return s.navigateToForgotPassword()}),r(79,"FORGOT PASSWORD"),i()()()()()()()()()()()(),o(80,"app-popup-modal",45),f("ClosePopup",function(){return s.loginSuccessModalClose()}),o(81,"p")(82,"span",46),r(83,"OTP Sent Successfully"),i()(),o(84,"p"),r(85,"An OTP has been sent to your registered email address. Please enter the OTP in the login form to verify your identity and continue."),i()()),t&2&&(l(6),a("routerLink",w(12,he,s.appRoutes.APP_HOME)),l(30),a("ngIf",s.isError),l(14),a("formGroup",s.loginForm),l(5),a("ngIf",s.formSubmitted&&s.f.username.invalid),l(5),a("ngIf",s.formSubmitted&&s.f.email.invalid),l(5),a("ngIf",s.formSubmitted&&s.f.password.invalid),l(5),a("ngIf",s.formSubmitted&&s.f.mobileNo.invalid),l(),a("ngIf",s.isLoginSuccess),l(5),M(" ",s.isLoginSuccess?"Verify OTP":"Submit to Login"," "),l(4),a("show",s.showLoginSuccessModel)("title","Welcome "+s.f.username.value)("buttonText","Ok"))},dependencies:[b,E,F,R,P,T,N,L,x],styles:["#body[_ngcontent-%COMP%]{background-color:#65ef08}"]})};function G(e){return n=>{if(!n.parent)return null;let t=n.parent.get(e);return t?n.value===t.value?null:{mismatch:!0}:null}}var ue=e=>["/",e];function Ge(e,n){if(e&1&&(o(0,"div",47)(1,"div",48),r(2),i()()),e&2){let t=c();l(2),S(t.errorMessage)}}function je(e,n){e&1&&(o(0,"small"),r(1,"username is required."),i())}function He(e,n){e&1&&(o(0,"small"),r(1,"Min 3 characters."),i())}function Be(e,n){e&1&&(o(0,"small"),r(1),i()),e&2&&(l(),M("Only letters, numbers and ._","@"," allowed."))}function We(e,n){if(e&1&&(o(0,"div",49),m(1,je,2,0,"small",50)(2,He,2,0,"small",50)(3,Be,2,1,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.username.errors==null?null:t.f.username.errors.required),l(),a("ngIf",t.f.username.errors==null?null:t.f.username.errors.minlength),l(),a("ngIf",t.f.username.errors==null?null:t.f.username.errors.pattern)}}function Ue(e,n){e&1&&(o(0,"small"),r(1,"Email is required."),i())}function Ye(e,n){e&1&&(o(0,"small"),r(1,"Enter a valid email."),i())}function $e(e,n){if(e&1&&(o(0,"div",49),m(1,Ue,2,0,"small",50)(2,Ye,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.required),l(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.email)}}function ze(e,n){e&1&&(o(0,"small"),r(1,"Mobile number is required."),i())}function Ze(e,n){e&1&&(o(0,"small"),r(1,"Must be exactly 10 digits."),i())}function Qe(e,n){if(e&1&&(o(0,"div",49),m(1,ze,2,0,"small",50)(2,Ze,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.mobileNo.errors==null?null:t.f.mobileNo.errors.required),l(),a("ngIf",t.f.mobileNo.errors==null?null:t.f.mobileNo.errors.pattern)}}function Je(e,n){if(e&1&&(o(0,"option",51),r(1),i()),e&2){let t=n.$implicit;a("value",t.countryName),l(),M(" ",t.countryName,"")}}function Ke(e,n){e&1&&(o(0,"small"),r(1,"Nationality is required."),i())}function Xe(e,n){if(e&1&&(o(0,"div",49),m(1,Ke,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.nationality.errors==null?null:t.f.nationality.errors.required)}}function et(e,n){e&1&&(o(0,"small"),r(1,"Password is required."),i())}function tt(e,n){e&1&&(o(0,"small"),r(1,"Min 6 characters."),i())}function it(e,n){e&1&&(o(0,"small"),r(1,"Include uppercase, lowercase, number, and symbol."),i())}function ot(e,n){if(e&1&&(o(0,"div",49),m(1,et,2,0,"small",50)(2,tt,2,0,"small",50)(3,it,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.required),l(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.minlength),l(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.pattern)}}function nt(e,n){e&1&&(o(0,"small"),r(1,"Confirm Password is required."),i())}function rt(e,n){e&1&&(o(0,"small"),r(1,"Passwords do not match."),i())}function lt(e,n){if(e&1&&(o(0,"div",49),m(1,nt,2,0,"small",50)(2,rt,2,0,"small",50),i()),e&2){let t=c();l(),a("ngIf",t.f.confirmPassword.errors==null?null:t.f.confirmPassword.errors.required),l(),a("ngIf",t.f.confirmPassword.errors==null?null:t.f.confirmPassword.errors.mismatch)}}var j=class e{constructor(n,t,s,u){this.location=n;this.router=t;this.authService=s;this.staticDataService=u}appRoutes=_;CountryList;registerForm=new I({username:new v("",[d.required,d.minLength(3),d.pattern(/^[a-zA-Z0-9._@]+$/)]),email:new v("",[d.required,d.email]),mobileNo:new v("",[d.required,d.pattern(/^\+?[1-9]\d{1,14}$/)]),password:new v("",[d.required,d.minLength(6),d.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{6,}$/)]),confirmPassword:new v("",[d.required,G("password")]),nationality:new v("",[d.required])});formSubmitted=!1;isError=!1;errorMessage="";showSuccessModel=!1;ngOnInit(){this.staticDataService.getPublicStaticDataRequest().subscribe({next:n=>{this.CountryList=n.data.countryList,console.log(this.CountryList)},error:n=>{console.log(n)}})}onSubmit(){if(this.formSubmitted=!0,this.registerForm.invalid)return;let n=this.registerForm.value;this.isError=!1,n.username=n.username.trim(),n.email=n.email.trim(),this.authService.createNewAccount(n).subscribe({next:t=>{this.showSuccessModel=!0,this.formSubmitted=!1},error:t=>this.handleError(t)})}handleError(n){this.isError=!0;let t=n.error;this.errorMessage=t?.errors?.[0]||"Registration failed. Please try again."}loginSuccessModalClose(){this.showSuccessModel=!1,this.registerForm.reset()}goBack(){this.location.back()}navigateToLogin(){this.router.navigate(["/",_.AUTH,_.LOGIN])}get f(){return this.registerForm.controls}static \u0275fac=function(t){return new(t||e)(g(C),g(y),g(k),g(me))};static \u0275cmp=h({type:e,selectors:[["app-register"]],standalone:!1,decls:90,vars:18,consts:[[1,"wrapper"],["id","body",1,"active"],[1,"content","bg-white"],[1,"container-fluid"],[1,"row"],[1,"col-lg-10"],[3,"routerLink"],["src","assets/images/new-smz-logo.png",1,"img-fluid","mx-auto","d-block","col-md-7"],[1,"col-lg-2"],[1,"home-icon"],["title","Back",1,"icon",3,"click"],["src","assets/images/red-left-arrow.png"],["title","home",1,"icon",3,"routerLink"],["src","assets/images/red-right-arrow.png"],[1,"content"],[1,"container",2,"margin-top","30px"],[1,"col-md-5"],[1,"services"],[1,"loginpage","service-item","position-relative","pt-5"],[1,"icon"],[1,"fas","fa-envelope"],[1,"stretched-link"],[1,"col-md-2"],[1,"services","pt-3","mb-3"],["type","button",1,"new-account-but",3,"click"],["class","col-md-12 mt-3",4,"ngIf"],["data-aos","fade-up","data-aos-delay","200",1,"login-div","aos-init","aos-animate","mt-2"],[1,"login-div-header"],[1,"row","login-div-body","gy-2",3,"submit","formGroup"],[1,"col-md-12"],["for","email-field",1,"pb-2"],["type","text","id","username","formControlName","username","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","email","id","emailAddress","formControlName","email","placeholder","",1,"form-control"],["for","name-field",1,"pb-2"],["type","text","id","mobileNo","formControlName","mobileNo","placeholder","",1,"form-control"],["for","nationality",1,"pb-2"],["id","nationality","formControlName","nationality",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","subject-field",1,"pb-2"],["type","password","id","password","formControlName","password","placeholder","",1,"form-control"],["type","password","id","confirm-password","formControlName","confirmPassword","placeholder","",1,"form-control"],[1,"col-md-12","mt-4"],["type","submit",1,"submit-btn"],[3,"ClosePopup","show","title","buttonText"],[2,"color","green"],[1,"col-md-12","mt-3"],[1,"alert","alert-danger","text-center"],[1,"text-danger"],[4,"ngIf"],[3,"value"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),p(7,"img",7),i()(),o(8,"div",8)(9,"div",9)(10,"a",10),f("click",function(){return s.goBack()}),p(11,"img",11),i(),o(12,"a",12),r(13," \xA0"),p(14,"img",13),i()()()()()(),o(15,"div",14)(16,"div",15)(17,"div",4)(18,"div",16)(19,"div",17)(20,"div",18)(21,"div",19),p(22,"i",20),i(),o(23,"div",21)(24,"p")(25,"strong"),r(26," NB - Pls Check Your E-mail And Link On Registering "),i(),r(27," NB - Pls Check Your \xA0 E-mail And Link On Registering to view rates and book ; Please note that on booking, time is limited to only 30 Mins for collection of tangible monies by proving ID and Transaction slip and no . Currently all transactions are cash to cash base . "),i()()()()(),p(28,"div",22),o(29,"div",16)(30,"div",23)(31,"button",24),f("click",function(){return s.navigateToLogin()}),r(32," If You Have Registered Pls Click & "),p(33,"br"),r(34," SIGN-IN Here TO TRANSACT "),i()(),m(35,Ge,3,1,"div",25),o(36,"div",26)(37,"div",27)(38,"span")(39,"small"),r(40," New "),i(),o(41,"strong"),r(42," REGISTRATION "),i(),o(43,"small"),r(44," Here "),i()()(),o(45,"form",28),f("submit",function(){return s.onSubmit()}),o(46,"div",29)(47,"label",30),r(48,"Full Name"),i(),p(49,"input",31),m(50,We,4,3,"div",32),i(),o(51,"div",29)(52,"label",30),r(53,"Email Address "),i(),p(54,"input",33),m(55,$e,3,2,"div",32),i(),o(56,"div",29)(57,"label",34),r(58,"Phone Number"),i(),p(59,"input",35),m(60,Qe,3,2,"div",32),i(),o(61,"div",29)(62,"label",36),r(63,"Select Nationality"),i(),o(64,"select",37)(65,"option",38),r(66,"Select Nationality"),i(),m(67,Je,2,2,"option",39),i(),m(68,Xe,2,1,"div",32),i(),o(69,"div",29)(70,"label",40),r(71,"Password"),i(),p(72,"input",41),m(73,ot,4,3,"div",32),i(),o(74,"div",29)(75,"label",40),r(76,"Re-Enter Password"),i(),p(77,"input",42),m(78,lt,3,2,"div",32),i(),o(79,"div",43)(80,"div",4)(81,"div",29)(82,"button",44),r(83,"Submit to Registration"),i()()()()()()()()()()()(),o(84,"app-popup-modal",45),f("ClosePopup",function(){return s.loginSuccessModalClose()}),o(85,"p")(86,"span",46),r(87,"Registration Successful!"),i()(),o(88,"p"),r(89,"Thank you for registering. A confirmation link has been sent to your email address. Please check your inbox and follow the link to verify your account."),i()()),t&2&&(l(6),a("routerLink",w(14,ue,s.appRoutes.APP_HOME)),l(6),a("routerLink",w(16,ue,s.appRoutes.APP_HOME)),l(23),a("ngIf",s.isError),l(10),a("formGroup",s.registerForm),l(5),a("ngIf",s.formSubmitted&&s.f.username.invalid),l(5),a("ngIf",s.formSubmitted&&s.f.email.invalid),l(5),a("ngIf",s.formSubmitted&&s.f.mobileNo.invalid),l(7),a("ngForOf",s.CountryList),l(),a("ngIf",s.formSubmitted&&s.f.nationality.invalid),l(5),a("ngIf",s.formSubmitted&&s.f.password.invalid),l(5),a("ngIf",s.formSubmitted&&s.f.confirmPassword.invalid),l(6),a("show",s.showSuccessModel)("title","Hi "+s.f.username.value)("buttonText","Ok"))},dependencies:[ie,b,E,F,re,le,R,ne,P,T,N,L,x],styles:["#body[_ngcontent-%COMP%]{background-color:#65ef08}"]})};var at=e=>["/",e];function st(e,n){if(e&1&&(o(0,"div",35)(1,"div",36),r(2),i()()),e&2){let t=c();l(2),S(t.errorMessage)}}function mt(e,n){e&1&&(o(0,"small"),r(1,"Email is required."),i())}function dt(e,n){e&1&&(o(0,"small"),r(1,"Enter a valid email."),i())}function pt(e,n){if(e&1&&(o(0,"div",40),m(1,mt,2,0,"small",41)(2,dt,2,0,"small",41),i()),e&2){let t=c(2);l(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.required),l(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.email)}}function ct(e,n){if(e&1&&(o(0,"div",31)(1,"label",37),r(2,"Email Address "),i(),p(3,"input",38),m(4,pt,3,2,"div",39),i()),e&2){let t=c();l(4),a("ngIf",t.formSubmitted&&t.f.email.invalid)}}function ut(e,n){e&1&&(o(0,"small"),r(1,"Mobile number is required."),i())}function ft(e,n){e&1&&(o(0,"small"),r(1,"Invalid Mobile Number"),i())}function vt(e,n){if(e&1&&(o(0,"div",40),m(1,ut,2,0,"small",41)(2,ft,2,0,"small",41),i()),e&2){let t=c(2);l(),a("ngIf",t.f.mobileNo.errors==null?null:t.f.mobileNo.errors.required),l(),a("ngIf",t.f.mobileNo.errors==null?null:t.f.mobileNo.errors.pattern)}}function gt(e,n){if(e&1&&(o(0,"div",31)(1,"label",42),r(2,"Phone Number"),i(),p(3,"input",43),m(4,vt,3,2,"div",39),i()),e&2){let t=c();l(4),a("ngIf",t.formSubmitted&&t.f.mobileNo.invalid)}}function _t(e,n){e&1&&(o(0,"small"),r(1,"OTP is required."),i())}function St(e,n){e&1&&(o(0,"small"),r(1,"Invalid OTP"),i())}function ht(e,n){e&1&&(o(0,"small"),r(1,"Invalid OTP"),i())}function bt(e,n){if(e&1&&(o(0,"div",40),m(1,_t,2,0,"small",41)(2,St,2,0,"small",41)(3,ht,2,0,"small",41),i()),e&2){let t=c(2);l(),a("ngIf",t.f.token.errors==null?null:t.f.token.errors.required),l(),a("ngIf",t.f.token.errors==null?null:t.f.token.errors.minlength),l(),a("ngIf",t.f.token.errors==null?null:t.f.token.errors.maxlength)}}function xt(e,n){if(e&1&&(o(0,"div",31)(1,"label",44),r(2,"OTP"),i(),p(3,"input",45),m(4,bt,4,3,"div",39),i()),e&2){let t=c();l(4),a("ngIf",t.formSubmitted&&t.f.token.invalid)}}function wt(e,n){e&1&&(o(0,"small"),r(1,"Password is required."),i())}function Ct(e,n){e&1&&(o(0,"small"),r(1,"Min 6 characters."),i())}function yt(e,n){e&1&&(o(0,"small"),r(1,"Include uppercase, lowercase, number, and symbol."),i())}function Et(e,n){if(e&1&&(o(0,"div",40),m(1,wt,2,0,"small",41)(2,Ct,2,0,"small",41)(3,yt,2,0,"small",41),i()),e&2){let t=c(2);l(),a("ngIf",t.f.newPassword.errors==null?null:t.f.newPassword.errors.required),l(),a("ngIf",t.f.newPassword.errors==null?null:t.f.newPassword.errors.minlength),l(),a("ngIf",t.f.newPassword.errors==null?null:t.f.newPassword.errors.pattern)}}function Rt(e,n){if(e&1&&(o(0,"div",31)(1,"label",44),r(2,"Password"),i(),p(3,"input",46),m(4,Et,4,3,"div",39),i()),e&2){let t=c();l(4),a("ngIf",t.formSubmitted&&t.f.newPassword.invalid)}}function Pt(e,n){e&1&&(o(0,"small"),r(1,"Password is required."),i())}function Tt(e,n){e&1&&(o(0,"small"),r(1,"Passwords do not match."),i())}function It(e,n){if(e&1&&(o(0,"div",40),m(1,Pt,2,0,"small",41)(2,Tt,2,0,"small",41),i()),e&2){let t=c(2);l(),a("ngIf",t.f.confirmPassword.errors==null?null:t.f.confirmPassword.errors.required),l(),a("ngIf",t.f.confirmPassword.errors==null?null:t.f.confirmPassword.errors.mismatch)}}function Ft(e,n){if(e&1&&(o(0,"div",31)(1,"label",44),r(2,"Confirm Password"),i(),p(3,"input",47),m(4,It,3,2,"div",39),i()),e&2){let t=c();l(4),a("ngIf",t.formSubmitted&&t.f.confirmPassword.invalid)}}var H=class e{constructor(n,t,s){this.router=n;this.location=t;this.authService=s}appRoutes=_;ResetForm=new I({email:new v("",[d.required,d.email]),mobileNo:new v("",[d.required,d.pattern(/^\+?[1-9]\d{1,14}$/)]),newPassword:new v({value:"",disabled:!0},[d.required,d.minLength(6),d.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{6,}$/)]),confirmPassword:new v({value:"",disabled:!0},[d.required,G("newPassword")]),token:new v({value:"",disabled:!0},[d.required,d.minLength(6),d.maxLength(6)])});formSubmitted=!1;isError=!1;errorMessage="";showResetRequestSuccessModel=!1;showResetSuccessModel=!1;isPasswordResetRequestSuccess=!1;isPasswordResetSuccess=!1;navigateToLogin(){this.router.navigate(["/",this.appRoutes.AUTH,this.appRoutes.LOGIN])}navigateToForgotPassword(){this.router.navigate(["/",this.appRoutes.AUTH,this.appRoutes.FORGOT_PASSWORD])}onSubmit(){if(this.formSubmitted=!0,this.ResetForm.invalid)return;let n=this.ResetForm.value;this.isError=!1,n.email=n.email.trim(),console.log(n),this.authService.RequestPasswordReset(n).subscribe({next:()=>{this.showResetRequestSuccessModel=!0,this.formSubmitted=!1},error:t=>this.handleError(t)})}onOtpVerificationSubmit(){if(this.formSubmitted=!0,this.ResetForm.invalid)return;this.isError=!1;let n=this.ResetForm.getRawValue();this.authService.RequestPasswordVerification(n).subscribe({next:()=>{this.showResetSuccessModel=!0,this.formSubmitted=!1},error:t=>this.handleError(t)})}handleError(n){this.isError=!0;let t=n.error;console.log(t),this.errorMessage=t?.errors?.[0]||"Reset Password Failed."}disableResetFields(){["email","mobileNo"].forEach(n=>{this.ResetForm.get(n)?.disable()}),this.ResetForm.get("token")?.enable(),this.ResetForm.get("newPassword")?.enable(),this.ResetForm.get("confirmPassword")?.enable()}resetRequestSuccessModalClose(){this.showResetRequestSuccessModel=!1,this.isPasswordResetRequestSuccess=!0,this.disableResetFields()}passwordResetSuccessModalClose(){this.showResetSuccessModel=!1,this.ResetForm.reset(),this.isPasswordResetRequestSuccess=!1}goBack(){this.location.back()}get f(){return this.ResetForm.controls}static \u0275fac=function(t){return new(t||e)(g(y),g(C),g(k))};static \u0275cmp=h({type:e,selectors:[["app-forgot-password"]],standalone:!1,decls:63,vars:16,consts:[[1,"wrapper"],["id","body",1,"active"],[1,"content","bg-white"],[1,"container-fluid"],[1,"row"],[1,"col-lg-10"],[3,"routerLink"],["src","assets/images/new-smz-logo.png",1,"img-fluid","mx-auto","d-block","col-md-7"],[1,"col-lg-2"],[1,"home-icon"],["title","Back",1,"icon",3,"click"],["src","assets/images/red-left-arrow.png"],["routerLink","/home","title","home",1,"icon"],["src","assets/images/red-right-arrow.png"],[1,"content"],[1,"container",2,"margin-top","30px"],[1,"col-md-5"],[1,"services","pt-3","mb-3"],["type","button",1,"new-account-but",3,"click"],[1,"col-md-2"],[1,"services"],[1,"loginpage","service-item","pt-2","pb-2"],[1,"icon"],[1,"fas","fa-envelope"],[1,"stretched-link"],["class","col-md-12 mt-3",4,"ngIf"],["data-aos","fade-up","data-aos-delay","200",1,"login-div","aos-init","aos-animate"],[1,"login-div-header"],[1,"row","login-div-body","gy-2",3,"submit","formGroup"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","mt-4"],[1,"col-md-12"],["type","submit",1,"submit-btn"],[3,"ClosePopup","show","title","buttonText"],[2,"color","green"],[1,"col-md-12","mt-3"],[1,"alert","alert-danger","text-center"],["for","email-field",1,"pb-2"],["type","email","id","emailAddress","formControlName","email","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],["for","name-field",1,"pb-2"],["type","text","id","mobileNo","formControlName","mobileNo","placeholder","",1,"form-control"],["for","subject-field",1,"pb-2"],["type","text","name","otp","id","otp","placeholder","","formControlName","token",1,"form-control"],["type","password","id","confirm-password","formControlName","newPassword","placeholder","",1,"form-control"],["type","password","id","confirm-password","formControlName","confirmPassword","placeholder","",1,"form-control"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),p(7,"img",7),i()(),o(8,"div",8)(9,"div",9)(10,"a",10),f("click",function(){return s.goBack()}),p(11,"img",11),i(),o(12,"a",12),r(13,"\xA0 "),p(14,"img",13),i()()()()()(),o(15,"div",14)(16,"div",15)(17,"div",4)(18,"div",16)(19,"div",17)(20,"button",18),f("click",function(){return s.navigateToLogin()}),r(21," Already have an account? "),p(22,"br"),r(23," Sign in "),i()()(),p(24,"div",19),o(25,"div",16)(26,"div",20)(27,"div",21)(28,"div",22),p(29,"i",23),i(),o(30,"div",24)(31,"p")(32,"strong"),r(33," NB - Pls Check Your E-mail And Link On Reset Password "),i()()()()(),m(34,st,3,1,"div",25),o(35,"div",26)(36,"div",27)(37,"span")(38,"strong"),r(39," Reset Password "),i()()(),o(40,"form",28),f("submit",function(){return s.isPasswordResetRequestSuccess?s.onOtpVerificationSubmit():s.onSubmit()}),m(41,ct,5,1,"div",29)(42,gt,5,1,"div",29)(43,xt,5,1,"div",29)(44,Rt,5,1,"div",29)(45,Ft,5,1,"div",29),o(46,"div",30)(47,"div",4)(48,"div",31)(49,"button",32),r(50,"Submit to Reset"),i()()()()()()()()()()()(),o(51,"app-popup-modal",33),f("ClosePopup",function(){return s.resetRequestSuccessModalClose()}),o(52,"p")(53,"span",34),r(54,"OTP Sent Successfully"),i()(),o(55,"p"),r(56,"We've sent a One-Time Password (OTP) to your registered email address. Please check your inbox and enter the OTP in the form to reset your password."),i()(),o(57,"app-popup-modal",33),f("ClosePopup",function(){return s.passwordResetSuccessModalClose()}),o(58,"p")(59,"span",34),r(60,"Your password has been updated."),i()(),o(61,"p"),r(62,"You can now log in using your new password. Please keep it secure and do not share it with anyone."),i()()),t&2&&(l(6),a("routerLink",w(14,at,s.appRoutes.APP_HOME)),l(28),a("ngIf",s.isError),l(6),a("formGroup",s.ResetForm),l(),a("ngIf",!s.isPasswordResetRequestSuccess),l(),a("ngIf",!s.isPasswordResetRequestSuccess),l(),a("ngIf",s.isPasswordResetRequestSuccess),l(),a("ngIf",s.isPasswordResetRequestSuccess),l(),a("ngIf",s.isPasswordResetRequestSuccess),l(6),a("show",s.showResetRequestSuccessModel)("title","OTP Sent to Your Email")("buttonText","Ok"),l(6),a("show",s.showResetSuccessModel)("title","Password Reset Successful")("buttonText","Ok"))},dependencies:[b,E,F,R,P,T,N,L,x],styles:["#body[_ngcontent-%COMP%]{background-color:#65ef08}"]})};var Nt=[{path:_.LOGIN,component:V},{path:_.REGISTER,component:j},{path:_.FORGOT_PASSWORD,component:H}],B=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=A({type:e});static \u0275inj=q({imports:[D,oe.forChild(Nt)]})};var fe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=A({type:e});static \u0275inj=q({imports:[D,B,ae,se]})};export{fe as AuthModule};
